<!DOCTYPE html>
<html lang="en">
<head>

        <title>Javascript Build Systems</title>
        <meta charset="utf-8" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="/theme/pygment.css" />

        <script src="/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="/">Software Engineering <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="/">Home</a></li>

                <li><a href="/pages/about.html">About</a></li>

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="/javascript-build-systems.html" rel="bookmark"
                   title="Permalink to Javascript Build Systems">Javascript Build Systems</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-06-14T19:31:00+01:00">
                Sun 14 June 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="/author/kegsay.html"> kegsay</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>There's a lot of them. From <a class="reference external" href="http://gruntjs.com/">Grunt</a> to
<a class="reference external" href="http://gulpjs.com/">Gulp</a>, it seems Javascript has a huge <a class="reference external" href="https://en.wikipedia.org/wiki/Not_invented_here">Not
Invented Here</a>
syndrome when it comes to automating tasks like minifying, linting and
automatic rebuilding when source files change. I've seen some backlash
in the community (e.g.
<a class="reference external" href="http://blog.keithcirkel.co.uk/why-we-should-stop-using-grunt/">here</a>
and
<a class="reference external" href="https://blog.jcoglan.com/2014/02/05/building-javascript-projects-with-make/">here</a>)
and to be honest, I agree with them. Engineering is all about
trade-offs. Will using this tool save you time and&nbsp; reduce complexity or
will it just add complexity and end up costing more time? In some cases,
it absolutely saves time. Take NPM for example. Trying to manage
dependencies in a project <em>manually</em> is just insane, and NPM takes a lot
of the domain-specific complexity (e.g. managing nested dependencies)
completely out of the equation so you don't even have to think about it
(<a class="reference external" href="https://github.com/joyent/node/issues/6960">most of the time...</a>).
What do these build systems really offer over using NPM scripts or Make?</p>
<hr class="docutils" />
<p><strong>Grunt</strong></p>
<p>On the Grunt.js homepage, you're shown two big questions right at the
start:</p>
<ul class="simple">
<li>Why use a task runner?</li>
<li>Why use Grunt?</li>
</ul>
<p>The first question doesn't have anything to do with Grunt. You could
drop both the question and answer to any sort of build system and have
it apply equally. The second question has the answer:</p>
<blockquote>
The Grunt ecosystem is huge and it's growing every day. With
literally hundreds of plugins to choose from, you can use Grunt to
automate just about anything with a minimum of effort. If someone
hasn't already built what you need, authoring and publishing your
own Grunt plugin to npm is a breeze. See how to <a class="reference external" href="http://gruntjs.com/getting-started">get
started</a>.</blockquote>
<p>This also feels like a non-answer. Why should I use it? &quot;For the
ecosystem&quot;. That doesn't answer the question and even taking it at
face-value means nothing (given the Node.js ecosystem far exceeds that
of Grunt). You would expect that the Grunt homepage would be the most
biased place to find the answer to &quot;Why should I use it?&quot; in order to
entice developers to give it a go, so the fact that this is the best
they have really doesn't bode well. Why should I use Grunt over the
competition (read: the terminal)?</p>
<p>To uglify some JS files, you'd write
(<a class="reference external" href="http://sethlakowske.com/software/use-grunt-and-uglifyjs-to-combine-multiple-javascript-files-into-a-single-javascript-file/">source</a>):</p>
<div class="highlight"><pre><span class="c1">// Combine all files in src/</span>
<span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
  <span class="nx">uglify</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">all_src</span> <span class="o">:</span> <span class="p">{</span>
      <span class="nx">options</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">sourceMap</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">sourceMapName</span> <span class="o">:</span> <span class="s1">&#39;sourceMap.map&#39;</span>
      <span class="p">},</span>
      <span class="nx">src</span> <span class="o">:</span> <span class="s1">&#39;src/**/*.js&#39;</span><span class="p">,</span>
      <span class="nx">dest</span> <span class="o">:</span> <span class="s1">&#39;composite.all.min.js&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
<hr class="docutils" />
<p><strong>Gulp</strong></p>
<p>On the Gulp.js homepage, there's the following:</p>
<ul class="simple">
<li>Easy to use: By preferring code over configuration, gulp keeps things
simple and makes complex tasks manageable.</li>
<li>Efficient: Using the power of node streams, gulp gives you fast
builds that don't write intermediary files to disk.</li>
<li>High quality: By enforcing strict plugin guidelines, we ensure that
plugins stay simple and work as expected.</li>
<li>Easy to learn: Using node best practices and maintaining a minimal
API surface, your build works exactly as you would imagine.</li>
</ul>
<p>There's a lot of talk about<em>how</em> it works, but not why I should use it
and why it is better than the competition. It's concerning to see that
writing code is easier than writing a configuration file in their eyes.
I was curious to read the &quot;High quality&quot; section. Intrigued on how the
enforcement would be done, I dug deeper and found a <a class="reference external" href="https://github.com/gulpjs/gulp/blob/master/docs/writing-a-plugin/guidelines.md">guidelines
document</a>.
It looks like they want to add a scoring system for their <a class="reference external" href="http://gulpjs.com/plugins/">plugin
registry</a> but they don't currently do
this. They aren't as strict as they claim to be, given plugins that
don't pass their acceptance tests just get a low score; they aren't
removed from the registry.</p>
<p>To uglify some JS files, you'd write
(<a class="reference external" href="http://julienrenaux.fr/2014/05/25/introduction-to-gulp-js-with-practical-examples/">source</a>):</p>
<div class="highlight"><pre><span class="c1">// including plugins</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">)</span>
<span class="p">,</span> <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;gulp-uglify&quot;</span><span class="p">);</span>

<span class="c1">// task</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-js&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./JavaScript/*.js&#39;</span><span class="p">)</span> <span class="c1">// path to your files</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;path/to/destination&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<hr class="docutils" />
<p>Compare this to how you actually use uglify in the terminal:</p>
<pre class="literal-block">
$ uglifyjs ./js/\*.js -o output.min.js
</pre>
<p>I don't think anyone would disagree when I say that the terminal usage
is a lot clearer. Of course, the real power comes when chaining these
commands to automate a set of tasks, and being able to specify which
tasks to run. All of the options are pretty similar for this:</p>
<pre class="literal-block">
// Terminal using &amp;&amp; to chain commands, task names in package.json
jshint lib/ &amp;&amp; browserify index.js -o dist/output.js
</pre>
<div class="highlight"><pre><span class="c1">// Gulp</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;lint&#39;</span><span class="p">,</span> <span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="s1">&#39;scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;watch&#39;</span><span class="p">]);</span>

<span class="c1">// Grunt</span>
<span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;jshint&#39;</span><span class="p">,</span> <span class="s1">&#39;qunit&#39;</span><span class="p">,</span> <span class="s1">&#39;concat&#39;</span><span class="p">,</span> <span class="s1">&#39;uglify&#39;</span><span class="p">]);</span>
</pre></div>
<p>So, there's no real gain here for chaining commands either. But wait,
what's with the whole streaming business with Gulp? Well, all it means
is that instead of creating temporary files whilst running tasks you can
just pipe the output into the input of another task... something which
has existed in UNIX since forever.</p>
<p><strong>Summary</strong></p>
<p>I don't see why you'd ever want to use Grunt and/or Gulp over terminal
commands invoked via NPM scripts. There's no stand-out feature in any of
these systems over the terminal, and it can actually end up being
detrimental to use these tools (e.g. wrapper packages forcing you to use
certain versions of plugins). If you aren't comfortable in a terminal,
time would be better spent getting used to using pipes and redirects as
those skills are a lot more transferable than the latest and greatest JS
build system. Of course, this is totally UNIX-centric, but nonetheless
<a class="reference external" href="https://technet.microsoft.com/en-gb/library/bb490982.aspx">the basics
exist</a> in
Windows too... so who is the target audience here?</p>

            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
      <li><a href="/pages/about.html">About</a></li>
  </ul>

<h4>Categories</h4>
<ul class="blank">
		<li><a href="/category/design.html">design</a></li>
		<li><a href="/category/misc.html">misc</a></li>
		<li><a href="/category/tooling.html">tooling</a></li>
</ul>


<h4>Tags</h4>
	<ul class="blank">
	    <li class="tag-4"><a href="/tag/api-design.html">api-design</a></li>
	    <li class="tag-4"><a href="/tag/build-tools.html">build-tools</a></li>
	    <li class="tag-4"><a href="/tag/android.html">android</a></li>
	    <li class="tag-4"><a href="/tag/javascript.html">javascript</a></li>
</ul>



</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="/theme/js/libs/gumby.min.js"></script>
  <script src="/theme/js/plugins.js"></script>
</body>
</html>